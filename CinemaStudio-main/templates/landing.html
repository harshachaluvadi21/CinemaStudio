{% extends "base.html" %}
{% block title %}Welcome â€” Cinema Studio{% endblock %}

{% block content %}
<div class="landing-page">
    <div class="landing-hero">
        <h1 class="landing-title">Cinema Studio</h1>
        <p class="landing-subtitle">Turn your story idea into a professional screenplay, character profiles, and sound
            design.</p>
        <button class="btn btn--primary btn--lg" id="startBtn">Get Started</button>
    </div>
</div>

<!-- Name Entry Modal -->
<div class="modal-overlay" id="nameModal" style="display:none;">
    <div class="modal">
        <h2 class="modal-title">Welcome!</h2>
        <p class="modal-desc">Please enter your name to continue.</p>
        <div class="form-group">
            <input type="text" id="userNameInput" class="form-input" placeholder="Your Name" maxlength="30">
            <p class="error-text" id="nameError" style="display:none;"></p>
        </div>
        <div class="modal-actions">
            <button class="btn btn--primary btn--full" id="continueBtn" disabled>Continue</button>
        </div>
    </div>
</div>
</div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const titleValues = ["Cinema Studio", "Your Writer's Room", "The Offline Studio"];
        const titleElement = document.querySelector('.landing-title');
        if (!titleElement) return;

        let phraseIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typeSpeed = 100;

        function type() {
            const currentPhrase = titleValues[phraseIndex];

            if (isDeleting) {
                titleElement.textContent = currentPhrase.substring(0, charIndex - 1);
                charIndex--;
                typeSpeed = 50;
            } else {
                titleElement.textContent = currentPhrase.substring(0, charIndex + 1);
                charIndex++;
                typeSpeed = 100;
            }

            if (!isDeleting && charIndex === currentPhrase.length) {
                isDeleting = true;
                typeSpeed = 2000; // Pause at end
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                phraseIndex = (phraseIndex + 1) % titleValues.length;
                typeSpeed = 500; // Pause before new phrase
            }

            setTimeout(type, typeSpeed);
        }

        // Start effect
        setTimeout(type, 1000);
    });
</script>
{% endblock %}